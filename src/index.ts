// Import the Pinecone library
import { Pinecone } from "@pinecone-database/pinecone";
import dotenv from "dotenv";

dotenv.config();

// Initialize a Pinecone client with your API key
const pc = new Pinecone({ apiKey: process.env.PINECONE_API_KEY as string });

// Define a sample dataset where each item has a unique ID and piece of text
const data = [
  {
    id: "vec1",
    text: "Apple is a popular fruit known for its sweetness and crisp texture.",
  },
  {
    id: "vec2",
    text: "The tech company Apple is known for its innovative products like the iPhone.",
  },
  { id: "vec3", text: "Many people enjoy eating apples as a healthy snack." },
  {
    id: "vec4",
    text: "Apple Inc. has revolutionized the tech industry with its sleek designs and user-friendly interfaces.",
  },
  { id: "vec5", text: "An apple a day keeps the doctor away, as the saying goes." },
  {
    id: "vec6",
    text: "Apple Computer Company was founded on April 1, 1976, by Steve Jobs, Steve Wozniak, and Ronald Wayne as a partnership.",
  },
];

// Convert the text into numerical vectors that Pinecone can index
const model = "multilingual-e5-large";

(async () => {
  const embeddings = await pc.inference.embed(
    model,
    data.map((d) => d.text),
    { inputType: "passage", truncate: "END" }
  );

  console.log(embeddings);
})();

/* Terminal output:

EmbeddingsList(6) [
  {
    values: [
            0.04913330078125,   -0.01306915283203125,   -0.01116180419921875,
          -0.038665771484375,      0.041351318359375,     -0.053314208984375,
         -0.0186309814453125,        0.0552978515625,         0.037353515625,
            -0.0499267578125,      0.040069580078125,    0.01457977294921875,
           -0.05145263671875,  0.0010442733764648438,  0.0017652511596679688,
         0.00774383544921875,       -0.0269775390625,       0.01800537109375,
       -0.006671905517578125,     -0.030853271484375,    0.01360321044921875,
          -0.018646240234375,     -0.042388916015625,       -0.0460205078125,
          -0.047149658203125,   -0.01424407958984375,       -0.0489501953125,
          -0.025421142578125,   -0.01512908935546875,     -0.045196533203125,
        0.006488800048828125,     0.0184783935546875,     -0.038665771484375,
          -0.027496337890625,    -0.0149078369140625,      0.037994384765625,
           0.019744873046875,   -0.00959014892578125,    -0.0160675048828125,
           -0.02764892578125,      -0.02606201171875,      0.058990478515625,
            -0.0201416015625,    -0.0258941650390625,    -0.0194549560546875,
                 0.029296875,      0.050262451171875,   0.001125335693359375,
           -0.03472900390625,     0.0182037353515625,  0.0021800994873046875,
             0.0115966796875,     -0.010162353515625, 0.00012576580047607422,
          -0.042816162109375,      0.033111572265625,    0.00864410400390625,
          0.0230255126953125,      -0.06719970703125,    0.01248931884765625,
        -0.01108551025390625,   -0.01302337646484375,     0.0192108154296875,
         -0.0306854248046875,     -0.051239013671875,     0.0253143310546875,
         0.01200103759765625,    0.00888824462890625,        -0.068603515625,
        0.004367828369140625,    -0.0160064697265625,         0.059814453125,
           -0.04412841796875,   -0.01338958740234375,  -0.000026702880859375,
           -0.02081298828125,      0.017730712890625,     0.0301055908203125,
          0.0203094482421875, -0.0010957717895507812,           0.0732421875,
         -0.0087432861328125,    0.01296234130859375,     -0.015533447265625,
          0.0164337158203125,     0.0282745361328125,     0.0197601318359375,
           0.036895751953125,           0.0478515625,     0.0309600830078125,
      -0.0015468597412109375,      0.035125732421875, -0.0001634359359741211,
           -0.02801513671875,     -0.038970947265625,     0.0064239501953125,
       0.0031108856201171875,     0.0105438232421875,    -0.0194549560546875,
           0.006134033203125,
      ... 924 more items
    ]
  },
  {
    values: [
             0.032470703125,      -0.027923583984375,      -0.03143310546875,
        -0.0250396728515625,         0.0438232421875,       -0.0538330078125,
         -0.039215087890625,        0.06402587890625,       0.05950927734375,
        -0.0300750732421875,        0.03192138671875,    0.00971221923828125,
         -0.044158935546875,         -0.011962890625,   -0.00403594970703125,
      -0.006740570068359375,      -0.034881591796875,         0.025634765625,
        -0.0070953369140625,      -0.042633056640625,       0.04351806640625,
         -0.032989501953125,      -0.036895751953125,    -0.0263824462890625,
        -0.0160675048828125,       -0.01177978515625,       -0.0279541015625,
        -0.0282745361328125, -0.00027680397033691406,     -0.056243896484375,
        0.01343536376953125,     0.00472259521484375,     -0.060333251953125,
         -0.031646728515625,    -0.01342010498046875,       0.02703857421875,
        0.01248931884765625,    0.006519317626953125,    -0.0279693603515625,
       -0.00257110595703125,      -0.032806396484375,        0.0477294921875,
        -0.0261993408203125,      -0.046295166015625,     -0.002410888671875,
           0.02337646484375,           0.03759765625,     0.0226898193359375,
        -0.0267181396484375,     0.01363372802734375,        0.0384521484375,
         -0.007781982421875,    -0.01197052001953125,       0.02020263671875,
         -0.033599853515625,      0.0243377685546875,      -0.04473876953125,
         0.0136871337890625,          -0.03662109375,     0.0180206298828125,
        -0.0086822509765625,      -0.022430419921875,    0.01476287841796875,
         -0.045074462890625,       -0.04132080078125,      0.036773681640625,
         0.0175323486328125,        0.02850341796875,     -0.052947998046875,
        -0.0088653564453125,     -0.0164947509765625,     0.0261688232421875,
         -0.055572509765625,     -0.0281219482421875,       -0.0325927734375,
        -0.0222015380859375,        0.04473876953125,      0.034637451171875,
          0.031768798828125,   -0.007747650146484375,         0.057373046875,
       -0.00543975830078125,     -0.0076141357421875,     -0.022125244140625,
         0.0187835693359375,         0.0509033203125,  0.0020198822021484375,
          0.037933349609375,            0.0380859375,      0.046295166015625,
       -0.01126861572265625,           0.03369140625,    0.00830841064453125,
         -0.019561767578125,       -0.04205322265625, -0.0007371902465820312,
          0.036773681640625,  -0.0031528472900390625,       -0.0281982421875,
      0.0014982223510742188,
      ... 924 more items
    ]
  },
  {
    values: [
              0.053955078125,  -0.01030731201171875,    -0.0124053955078125,
         -0.0176239013671875,     0.018890380859375,     -0.027191162109375,
      -0.0012149810791015625,      0.03546142578125,       0.04510498046875,
            -0.0501708984375,     0.027801513671875,   -0.00989532470703125,
            -0.0447998046875,   -0.0085906982421875,   0.005306243896484375,
         -0.0231170654296875,   -0.0247955322265625,     0.0240020751953125,
          -0.008026123046875,   0.00556182861328125,       0.02960205078125,
           -0.03204345703125,      -0.0462646484375,      -0.03619384765625,
            -0.0445556640625,   -0.0282135009765625,     -0.027984619140625,
           -0.03131103515625,   -0.0215911865234375,      -0.04473876953125,
         -0.0047454833984375,     0.036651611328125,     -0.053924560546875,
             -0.035400390625, 0.0002617835998535156,        0.0526123046875,
          0.0178985595703125,  -0.01100921630859375,    -0.0137786865234375,
           -0.01812744140625,  -0.01398468017578125,      0.043487548828125,
         -0.0215301513671875,     -0.06964111328125,    -0.0298919677734375,
      -0.0009851455688476562,     0.030364990234375,     0.0249176025390625,
           -0.01251220703125,     0.005035400390625,       0.01885986328125,
          0.0135040283203125,  -0.01367950439453125,   0.005062103271484375,
           -0.03790283203125,    0.0276336669921875, -0.0015621185302734375,
          0.0211944580078125,    -0.055084228515625,    0.01554107666015625,
        -0.00418853759765625,   -0.0293121337890625,     0.0138397216796875,
          -0.020965576171875,     -0.03656005859375,      0.038177490234375,
           0.033782958984375,   0.00278472900390625,          -0.0791015625,
            0.01995849609375,     -0.02325439453125,       0.03143310546875,
          -0.027496337890625,   -0.0149993896484375,   -0.01386260986328125,
          -0.034027099609375,     0.046112060546875, -0.0012063980102539062,
          0.0246429443359375,  -0.00402069091796875,       0.05877685546875,
         -0.0160064697265625,    0.0195159912109375,      -0.03228759765625,
          0.0303802490234375,     0.039947509765625,      0.018585205078125,
           0.046417236328125,     0.040252685546875,     0.0285186767578125,
          0.0027313232421875,        0.018310546875,   -0.00183868408203125,
         -0.0171966552734375,    -0.034149169921875,      0.022674560546875,
           0.004547119140625,   0.01393890380859375,    0.00321197509765625,
        -0.01053619384765625,
      ... 924 more items
    ]
  },
  {
    values: [
         0.0279388427734375,     -0.024078369140625,      -0.03558349609375,
         -0.036041259765625,      0.038848876953125,     -0.031036376953125,
         -0.047637939453125,      0.051116943359375,          0.06298828125,
          -0.03009033203125,     0.0288848876953125,      -0.00848388671875,
        -0.0196685791015625,    -0.0279693603515625,  0.0013523101806640625,
          -0.01373291015625,     -0.048675537109375,     0.0119171142578125,
        0.00931549072265625,         -0.04638671875,      0.024566650390625,
            -0.036376953125,     -0.043365478515625,     -0.044708251953125,
         -0.044036865234375,   -0.01090240478515625,       -0.0279541015625,
          -0.02142333984375,  -0.005092620849609375,          -0.0517578125,
         0.0122833251953125,  -0.004657745361328125,     -0.043365478515625,
          -0.01080322265625,        -0.020751953125,      0.025177001953125,
       0.004306793212890625,      0.013336181640625,           -0.037109375,
      0.0014238357543945312,        -0.035888671875,       0.04864501953125,
         -0.022003173828125,         -0.04638671875,  -0.004627227783203125,
            0.0299072265625,      0.044097900390625, -0.0025348663330078125,
           -0.0245361328125,      0.015777587890625,     0.0257720947265625,
       0.005939483642578125,   -0.01163482666015625,  0.0023059844970703125,
         -0.036163330078125,      0.036590576171875,        -0.060302734375,
         0.0055694580078125,        -0.059326171875,      0.024993896484375,
           -0.0406494140625,    0.00995635986328125,    0.01543426513671875,
         -0.045684814453125,        -0.038818359375, -0.0009379386901855469,
                   0.015625,     0.0240936279296875,         -0.04931640625,
      -0.004558563232421875,   -0.01381683349609375,           0.0458984375,
          -0.03729248046875, -0.0019969940185546875,     -0.025665283203125,
         -0.009490966796875,       0.04376220703125,     0.0243988037109375,
          0.053558349609375,   -0.01218414306640625,      0.056488037109375,
        -0.0124664306640625,      0.028594970703125,     -0.042694091796875,
       0.004116058349609375,    0.01255035400390625,    0.00519561767578125,
             0.037841796875,            0.041015625,      0.035125732421875,
         -0.008209228515625,        0.0501708984375,     0.0193023681640625,
       -0.01323699951171875,    -0.0147552490234375, -0.0026378631591796875,
          0.041778564453125,      0.035980224609375,    -0.0300140380859375,
           0.01995849609375,
      ... 924 more items
    ]
  },
  {
    values: [
           0.0312347412109375,    -0.0186309814453125,       -0.02362060546875,
           -0.040252685546875,      0.029571533203125,      -0.061004638671875,
          -0.0210113525390625,          0.07080078125,       0.057952880859375,
            -0.05047607421875,     0.0196075439453125,       0.017791748046875,
           -0.061065673828125,  0.0035915374755859375,         0.0069580078125,
         -0.01012420654296875,     -0.020843505859375,       0.028289794921875,
       -0.0022335052490234375,     -0.025115966796875,       0.039337158203125,
          -0.0117340087890625,     -0.052032470703125,         -0.051025390625,
            -0.03778076171875,   -0.01274871826171875,       -0.04559326171875,
            -0.03558349609375,     -0.022735595703125,      -0.022003173828125,
         -0.00847625732421875,   0.007717132568359375,      -0.034637451171875,
          -0.0200347900390625,  0.0025348663330078125,       0.041290283203125,
             0.03289794921875, -0.0019083023071289062,     -0.0121002197265625,
              0.0289306640625,    -0.0162506103515625,       0.037689208984375,
            -0.03973388671875,     -0.051483154296875, -0.00021338462829589844,
        0.0011262893676757812,        0.0291748046875,      0.0167388916015625,
              0.0018310546875,  0.0011577606201171875,        0.01898193359375,
             -0.0008544921875,      -0.04498291015625,     -0.0263824462890625,
           -0.037811279296875,      0.020355224609375,          0.019775390625,
            0.009674072265625,    -0.0075836181640625,    -0.00835418701171875,
         -0.01302337646484375,     -0.061004638671875,  -0.0002474784851074219,
         -0.01474761962890625,     -0.035858154296875,        0.03961181640625,
             0.04193115234375,      0.028045654296875,         -0.067626953125,
        0.0015554428100585938,     -0.034149169921875,      0.0215301513671875,
          -0.0235137939453125,  -0.005535125732421875,     -0.0176544189453125,
            -0.04083251953125,     0.0216827392578125,       0.037445068359375,
        0.0023822784423828125,    0.01454925537109375,         0.0753173828125,
      0.000051856040954589844,      0.028839111328125,        -0.0194091796875,
           0.0185089111328125,     0.0202789306640625,         0.0289306640625,
            0.035186767578125,     0.0238800048828125,       0.037078857421875,
          -0.0097198486328125,      0.033721923828125,    -0.00707244873046875,
              -0.025634765625,     -0.038604736328125,  -0.0025959014892578125,
                0.02587890625,     0.0236663818359375,      0.0301055908203125,
         0.007732391357421875,
      ... 924 more items
    ]
  },
  {
    values: [
         0.039520263671875,   -0.00997161865234375,     -0.046295166015625,
       -0.0110626220703125,      0.049652099609375,         -0.02587890625,
       0.00482940673828125,      0.037261962890625,      0.044158935546875,
       -0.0186920166015625,     0.0259552001953125, -0.0038585662841796875,
        -0.036102294921875,     -0.048919677734375,     0.0255584716796875,
       -0.0306854248046875,      -0.02301025390625,      0.015655517578125,
        -0.014495849609375,     -0.046661376953125,      0.039947509765625,
          -0.0245361328125,    -0.0287933349609375,     -0.024627685546875,
         -0.00555419921875,   -0.01316070556640625,    -0.0254058837890625,
        -0.031036376953125,         0.015380859375,          -0.0400390625,
       -0.0149078369140625,    -0.0150299072265625,      -0.03094482421875,
       -0.0248565673828125,    -0.0098724365234375,        0.0321044921875,
         0.019195556640625,        0.0421142578125,      -0.05718994140625,
        -0.010589599609375,     -0.037994384765625,         0.073974609375,
          -0.0394287109375,         -0.04248046875,     -0.037261962890625,
         0.038848876953125,      0.040924072265625,     0.0247344970703125,
       -0.0300445556640625,     0.0237274169921875, -0.0008263587951660156,
        0.0190277099609375,     -0.009674072265625,      -0.01043701171875,
            -0.04833984375,     0.0211029052734375,      -0.04449462890625,
       0.00634002685546875,     -0.057525634765625,    0.00736236572265625,
       -0.0096588134765625,  -0.007770538330078125,      0.043121337890625,
      -0.01299285888671875,          -0.0556640625,      0.041595458984375,
           0.0194091796875,     0.0250701904296875,     -0.052886962890625,
            0.031005859375,     -0.033721923828125,        0.0362548828125,
        -0.043304443359375, -0.0020618438720703125,     -0.027801513671875,
             -0.0224609375,        0.0626220703125,       0.04107666015625,
              0.0224609375,    -0.0288848876953125,          0.06103515625,
        0.0092926025390625,       0.04571533203125,         -0.05419921875,
           0.0223388671875,        0.0081787109375,     -0.023834228515625,
         0.035064697265625,      0.017242431640625,    0.01250457763671875,
        -0.011932373046875,      0.045806884765625,   0.005870819091796875,
       -0.0159454345703125,   -0.01100921630859375,       -0.0098876953125,
        0.0231170654296875,        0.0450439453125,      -0.00628662109375,
         0.030792236328125,
      ... 924 more items
    ]
  },
  model: 'multilingual-e5-large',
  data: [
    { values: [Array] },
    { values: [Array] },
    { values: [Array] },
    { values: [Array] },
    { values: [Array] },
    { values: [Array] }
  ],
  usage: { totalTokens: 130 }
]
*/
